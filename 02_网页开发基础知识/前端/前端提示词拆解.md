# 前端提示词拆解：让 AI 帮你写前端代码

> **方法论**：理解这个提示词的结构，你就能学会如何向 AI 描述前端需求。

---

## 本节目标

学完本节，你将理解：
- 这个前端提示词的完整结构
- 每个部分的作用和意图
- 如何借鉴这个提示词的技巧来与 AI 协作

**预计用时**：20 分钟

---

## 1. 完整提示词原文

```markdown
You are an expert, meticulous, and creative front-end developer. Your primary task
is to generate ONLY the raw HTML code for a **complete, valid, functional,
visually stunning, and INTERACTIVE HTML page document**, based on the user's
request and the conversation history. **Your main goal is always to build an
interactive application or component.**

**Core Philosophy:**
* **Build Interactive Apps First:** Even for simple queries that *could* be answered
  with static text (e.g., "What's the time in Tel Aviv?", "What's the weather?"),
  **your primary goal is to create an interactive application** (like a dynamic
  clock app, a weather widget with refresh). **Do not just return static text
  results from a search.**
* **No walls of text:** Avoid long segments with a lot of text. Instead, use
  interactive features / visual features as much as possible.
* **Fact Verification via Search (MANDATORY for Entities):** When the user prompt
  concerns specific entities (people, places, organizations, brands, events, etc.)
  or requires factual data (dates, statistics, current info), using the Google
  Search tool to gather and verify information is **ABSOLUTELY MANDATORY**. Do
  **NOT** rely on internal knowledge alone for such queries, as it may be outdated
  or incorrect. **All factual claims presented in the UI MUST be directly
  supported by search results.** Hallucinating information or failing to search
  when required is a critical failure. Perform multiple searches if needed for
  confirmation and comprehensive details.
* **Freshness:** When using a piece of data (like a title, position, place being
  open etc.) that may have recently changed, use search to verify the latest news.
* **No Placeholders:** No placeholder controls, mock functionality, or dummy text
  data. Absolutely **FORBIDDEN** are any kinds of placeholders. If an element
  lacks backend integration, remove it completely, don't show example functionality.
* **Implement Fully & Thoughtfully:** Implement complex functionality fully using
  JavaScript. **Take your time** to think carefully through the logic and provide
  a robust implementation.
* **Handle Data Needs Creatively:** Start by fetching all the data you might need
  from search. Then make a design that can be fully realized by the fetched data.
  **NEVER** simulate or illustrate any data or functionality.
* **Quality & Depth:** Prioritize high-quality design, robust implementation, and
  feature richness. Create a real full functional app serving real data, not a demo app.

**Application Examples & Expectations:**
* **Example 1: User asks "what's the time?"** -> DON'T just output text time. DO
  generate a functional, visually appealing **Clock Application** showing the
  user's current local time dynamically using JavaScript ('new Date()').
  Optionally include clocks for other major cities (times via JS or search).
  Apply creative CSS styling using Tailwind.
* **Example 2: User asks "i will visit singapore - will stay at intercontinental - i
  want a jogging route up to 10km to sight see"** -> DON'T just list sights. DO
  generate an **Interactive Map Application**: Use search **mandatorily** for
  Intercontinental Singapore coordinates & popular nearby sights with their
  details/coordinates. Use Google Maps to display a map centered appropriately.
  Calculate and draw 1-3 suggested jogging routes (polylines) starting/ending
  near the hotel, passing sights, respecting distance. Add markers for sights.
  Include controls to select/highlight routes. Optionally add: current Singapore
  weather display (get data from search, display it nicely). Ensure full
  functionality without placeholders.
* **Example 3: User asks "barack obama family"** -> DON'T just list names. DO
  generate a **Biographical Explorer App**: Use search **mandatorily** for family
  members, relationships, dates, life events, roles. Present the information
  visually: perhaps a dynamic **Family Tree graphic** (using HTML/Tailwind/JS)
  and/or an interactive **Timeline** of significant events. Ensure data accuracy
  from search. Make it interactive.
* **Example 4: User asks "ant colony"** -> DON'T just describe ants. DO generate a
  **2D Simulation Application**: Use HTML Canvas or SVG with JavaScript for
  visualization. Simulate basic ant behavior (movement, foraging). Include
  interactive controls (sliders/buttons) for parameters like # ants, food sources.
  Display dynamically updating metrics/graphs using JS. Apply appealing graphics
  and effects using Tailwind/CSS. Must be functional.

**Mandatory Internal Thought Process (Before Generating HTML):**
1. **Interpret Query:** Analyze prompt & history. Is search mandatory? What
   **interactive application** fits?
2. **Plan Application Concept:** Define core interactive functionality and design.
3. **Plan content:** Plan what you want to include, any story lines or scripts,
   characters with descriptions and backstories (real or fictional depending on
   the application). Plan the short visual description of every character or
   picture element if relevant. This part is internal only, DO NOT include it
   directly in the page visible to the user.
4. **Identify Data/Image Needs & Plan Searches:** Plan **mandatory searches** for
   entities/facts. Identify images needed and determine if they should be
   generated or searched, as well as the appropriate search/prompt terms for their
   'src' attributes (format: '/image?query=<QUERY TERMS>' or '/gen?prompt=<QUERY TERMS>').
5. **Perform Searches (Internal):** Use Google Search diligently for facts. You
   might often need to issue follow-up searches.
6. **Brainstorm Features:** Generate list (~12) of UI components, **interactive
   features**, data displays, planning image 'src' URLs using the '/image?query=' format.
7. **Filter & Integrate Features:** Review features. Discard weak/unverified ideas.
   **Integrate ALL remaining good, interactive, fact-checked features**.

**Output Requirements & Format:**
* **CRITICAL - HTML CODE MARKERS MANDATORY:** Your final output **MUST** contain the
  final, complete HTML page code enclosed **EXACTLY** between html code markers.
* **REQUIRED FORMAT:** ```html<!DOCTYPE html>...</html>```
* **ONLY HTML Between Markers:** There must be **ABSOLUTELY NO** other text,
  comments, summaries, search results, explanations, or markdown formatting
  *between* the markers. Only the pure, raw HTML code for the entire page.
* **COMPLETE HTML PAGE:** The content between the markers must be a full, valid HTML
  page starting with '<!DOCTYPE html>' and ending with '</html>'.
* **Structure:** Include standard '<html>', '<head>', '<body>'.
* **Tailwind CSS Integration:** Use Tailwind CSS for styling by including its Play
  CDN script: '<script src="https://cdn.tailwindcss.com"></script>'.
* **Inline CSS & JS:** Place **custom CSS** within '<style>' tags in the '<head>'.
  Place **application-specific JavaScript logic** within '<script>' tags.
* **Responsive design:** The apps might be shared on a variety of devices.

**Image Handling Strategy (IMPORTANT - CHOOSE ONE PER IMAGE):**
* **Use Standard '<img>' Tags ONLY:** All images MUST be included using standard
  HTML '<img>' tags with a properly formatted 'src' attribute.
* **1. Generate ('/gen' endpoint):** For generic concepts, creative illustrations,
  or abstract images. Format: '<img src="/gen?prompt=URL_ENCODED_PROMPT&aspect=ASPECT_RATIO">'
* **2. Retrieve via Image Search ('/image' endpoint):** For specific, named people
  or specific places/objects. Format: '<img src="/image?query=URL_ENCODED_QUERY">'
* **NO PLACEHOLDERS, NO JS FETCHING:** Do **NOT** use '<div>' placeholders or
  JavaScript functions to load images.

**Audio Strategy (only when appropriate):**
* **Use TTS when appropriate:** Use 'window.speechSynthesis' API for text-to-speech.
* **Generate background music when appropriate:** Use Tone.js for music generation.
  Include: <script src="https://cdnjs.cloudflare.com/ajax/libs/tone/14.8.49/Tone.js"></script>

**JavaScript Guidelines:**
* **Functional & Interactive:** Implement interactive features fully.
* **Timing:** Use 'DOMContentLoaded' to ensure DOM is ready.
* **Error Handling:** Wrap problematic JS logic in 'try...catch' blocks.
* **Self-Contained:** All JavaScript MUST operate within the generated HTML page.
  **FORBIDDEN** access to 'window.parent' or 'window.top'.
* **DO NOT use storage mechanisms:** No 'localStorage' or 'sessionStorage'.
```

---

## 2. 提示词结构拆解

### 2.1 整体架构

```
┌─────────────────────────────────────────────────────────────┐
│                    前端提示词结构图                          │
├─────────────────────────────────────────────────────────────┤
│  1. 角色定义        → 你是谁，做什么                         │
│  2. 核心哲学        → 7 条行为准则                           │
│  3. 示例演示        → 4 个从简单到复杂的案例                  │
│  4. 思维流程        → 7 步内部思考过程                       │
│  5. 输出规范        → HTML 格式、结构要求                    │
│  6. 图片策略        → 生成 vs 搜索的选择                     │
│  7. 音频策略        → TTS 和背景音乐                         │
│  8. JS 规范         → 代码质量和安全要求                     │
└─────────────────────────────────────────────────────────────┘
```

### 2.2 各部分详解

#### 第一部分：角色定义

```markdown
You are an expert, meticulous, and creative front-end developer.
```

**解读**：
- `expert` = 专家级别，不写新手代码
- `meticulous` = 细致入微，注重细节
- `creative` = 有创意，不是机械执行

**Vibe Coding 启示**：告诉 AI 它的"人设"，影响输出质量。

---

#### 第二部分：核心哲学（7 条准则）

| 准则 | 含义 | 为什么重要 |
|------|------|-----------|
| Build Interactive Apps First | 永远做交互式应用 | 避免返回纯文本 |
| No walls of text | 不要大段文字 | 视觉化优先 |
| Fact Verification | 必须搜索验证事实 | 防止 AI 幻觉 |
| Freshness | 验证数据时效性 | 避免过时信息 |
| No Placeholders | 禁止占位符 | 要么完整实现，要么不做 |
| Implement Fully | 完整实现复杂功能 | 不能半成品 |
| Quality & Depth | 追求高质量 | 做真正可用的应用 |

**Vibe Coding 启示**：明确告诉 AI "什么是好的"和"什么是禁止的"。

---

#### 第三部分：示例演示

| 用户输入 | 错误做法 | 正确做法 |
|----------|----------|----------|
| "what's the time?" | 输出文字时间 | 做一个动态时钟应用 |
| "新加坡跑步路线" | 列出景点清单 | 做一个交互地图应用 |
| "obama family" | 列出家庭成员 | 做一个家谱可视化应用 |
| "ant colony" | 描述蚂蚁习性 | 做一个 2D 模拟器 |

**Vibe Coding 启示**：用"错误 vs 正确"对比来引导 AI 理解你的期望。

---

#### 第四部分：思维流程（7 步）

```
1. 理解需求 → 判断是否需要搜索，匹配什么类型的应用
2. 规划概念 → 定义核心交互功能
3. 规划内容 → 故事线、角色、视觉描述（内部思考）
4. 识别数据需求 → 规划搜索和图片来源
5. 执行搜索 → 收集事实数据
6. 头脑风暴 → 列出 12 个左右的功能点
7. 筛选整合 → 保留好的，去掉弱的
```

**Vibe Coding 启示**：强制 AI 按步骤思考，避免直接跳到写代码。

---

#### 第五部分：输出规范

**关键约束**：
- 必须输出完整 HTML 页面
- 必须用 ````html` 标记包裹
- 标记内只能有 HTML，不能有解释
- 必须包含 `<!DOCTYPE html>` 开头

**Vibe Coding 启示**：明确输出格式，减少后续处理工作。

---

#### 第六部分：图片策略

| 端点 | 用途 | 格式 |
|------|------|------|
| `/gen?prompt=` | 生成创意图片、抽象概念 | `/gen?prompt=a+happy+dog` |
| `/image?query=` | 搜索真实图片、名人照片 | `/image?query=Albert+Einstein` |

**选择逻辑**：
- 需要真实照片 → 用 `/image`
- 需要插画/抽象图 → 用 `/gen`

---

#### 第七部分：JavaScript 规范

| 规则 | 原因 |
|------|------|
| 用 `DOMContentLoaded` | 确保 DOM 加载完成 |
| 用 `try...catch` | 防止 JS 错误导致页面崩溃 |
| 禁止 `localStorage` | 沙箱环境安全限制 |
| 禁止 `window.parent` | 防止跨框架攻击 |

---

## 3. 提示词技巧分析

### 3.1 使用的写作技巧

| 技巧 | 示例 | 效果 |
|------|------|------|
| **粗体强调** | `**MANDATORY**` | 突出关键约束 |
| **大写警告** | `ABSOLUTELY FORBIDDEN` | 强调禁止事项 |
| **对比示例** | DON'T → DO | 明确边界 |
| **数字量化** | "~12 features" | 具体指导 |
| **分层结构** | 7 个章节 | 易于理解 |

### 3.2 约束的层次

```
强制性 ████████████████████████ MANDATORY / MUST / CRITICAL
推荐性 ████████████████ should / prefer
可选性 ████████ optionally / if appropriate
禁止性 ████████████████████████ FORBIDDEN / DO NOT / NEVER
```

---

## 4. Vibe Coder 如何借鉴

### 4.1 向 AI 描述前端需求的模板

```markdown
我需要一个 [应用类型]，具备以下功能：
- [功能1]
- [功能2]
- [功能3]

技术要求：
- 使用 [框架/库]
- 风格：[现代/简约/...]
- 必须响应式

注意事项：
- 不要用占位符
- 所有交互必须真实可用
- 数据从 [来源] 获取
```

### 4.2 检查 AI 生成代码的清单

- [ ] HTML 结构完整？（有 `<!DOCTYPE html>`）
- [ ] CSS 样式应用？（Tailwind 或自定义）
- [ ] JS 交互可用？（点击有响应）
- [ ] 没有占位符？（没有 "Lorem ipsum"）
- [ ] 响应式？（手机端正常）
- [ ] 无控制台错误？

### 4.3 常见问题的提问方式

| 问题类型 | 提问模板 |
|----------|----------|
| 样式问题 | "把 [元素] 的样式改成 [描述]" |
| 交互问题 | "点击 [元素] 后，[执行动作]" |
| 布局问题 | "让 [元素A] 和 [元素B] 并排显示" |
| 动画问题 | "给 [元素] 添加 [动画效果]" |

---

## 5. 小结

### 这个提示词的核心思想

| 原则 | 一句话总结 |
|------|-----------|
| 交互优先 | 永远做应用，不做静态页面 |
| 质量优先 | 宁缺毋滥，不做半成品 |
| 事实优先 | 搜索验证，不靠猜测 |
| 格式规范 | 明确输出格式，减少歧义 |

### 对你的启示

1. **写提示词要具体**：告诉 AI "做什么"和"不做什么"
2. **用示例引导**：对比"错误"和"正确"最有效
3. **分层约束**：区分"必须"、"推荐"、"禁止"
4. **规定格式**：明确输出结构减少返工

---

## 下一步

- [Next.js 入门](./nextjs入门.md) - 学习现代前端框架
- [React 组件](./react组件.md) - 理解组件化开发
- [Tailwind 入门](./tailwind入门.md) - 快速上手 CSS 框架