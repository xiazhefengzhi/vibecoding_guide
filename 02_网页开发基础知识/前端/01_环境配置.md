# å‰ç«¯ç¯å¢ƒé…ç½®

> **æ–¹æ³•è®º**ï¼šç¯å¢ƒé…å¥½ï¼Œé¡¹ç›®èƒ½è·‘ï¼Œå°±æ˜¯æˆåŠŸã€‚å‡ºé”™äº†å¤åˆ¶æŠ¥é”™é—® AIã€‚

![npm å·¥ä½œæµç¨‹](./images/01_npm_workflow.png)

---

## ğŸ“– æœ¬èŠ‚ç›®æ ‡

å­¦å®Œæœ¬èŠ‚ï¼Œä½ å°†ç†è§£ï¼š
- âœ… Node.js å’Œ npm æ˜¯ä»€ä¹ˆ
- âœ… æ€ä¹ˆæ‰“å¼€ç»ˆç«¯ï¼ˆå‘½ä»¤è¡Œï¼‰
- âœ… æ€ä¹ˆçœ‹æ‡‚ package.json
- âœ… å¦‚ä½•é…ç½®å›½å†…é•œåƒæºï¼ˆè§£å†³ä¸‹è½½æ…¢ï¼‰
- âœ… å¸¸ç”¨å‘½ä»¤é€ŸæŸ¥

**é¢„è®¡ç”¨æ—¶**ï¼š20 åˆ†é’Ÿ

---

## 0. ç»ˆç«¯æ˜¯ä»€ä¹ˆï¼Ÿæ€ä¹ˆæ‰“å¼€ï¼Ÿ

### 0.1 ç»ˆç«¯ = ç”¨æ–‡å­—å’Œç”µè„‘å¯¹è¯çš„çª—å£

**ç±»æ¯”**ï¼šå¦‚æœè¯´é¼ æ ‡ç‚¹ç‚¹ç‚¹æ˜¯"å’Œç”µè„‘æ‰“æ‰‹è¯­"ï¼Œé‚£ç»ˆç«¯å°±æ˜¯"å’Œç”µè„‘è¯´è¯"ã€‚

ä½ åœ¨ç»ˆç«¯é‡Œè¾“å…¥å‘½ä»¤ï¼ˆæ¯”å¦‚ `node -v`ï¼‰ï¼Œç”µè„‘å°±ä¼šå›å¤ä½ ç»“æœã€‚

### 0.2 å¦‚ä½•æ‰“å¼€ç»ˆç«¯ï¼Ÿ

**Windows ç”¨æˆ·**ï¼š
1. æŒ‰é”®ç›˜ `Win + R`
2. è¾“å…¥ `cmd` æˆ– `powershell`
3. æŒ‰å›è½¦
4. ä¼šå¼¹å‡ºä¸€ä¸ª**é»‘è‰²ï¼ˆæˆ–è“è‰²ï¼‰çª—å£**

**Mac ç”¨æˆ·**ï¼š
1. æŒ‰é”®ç›˜ `Command + ç©ºæ ¼`
2. è¾“å…¥ `terminal` æˆ– `ç»ˆç«¯`
3. æŒ‰å›è½¦
4. ä¼šå¼¹å‡ºä¸€ä¸ª**ç™½è‰²ï¼ˆæˆ–é»‘è‰²ï¼‰çª—å£**

**å®ƒé•¿è¿™æ ·**ï¼š
```
~ % _           â† ä½ ä¼šçœ‹åˆ°é—ªçƒçš„å…‰æ ‡ï¼Œå¯ä»¥è¾“å…¥äº†
```

> **é‡è¦**ï¼šåé¢æ‰€æœ‰ `ä»£ç å—` é‡Œçš„å‘½ä»¤ï¼Œéƒ½æ˜¯è¦åœ¨è¿™ä¸ªç»ˆç«¯çª—å£é‡Œè¾“å…¥ï¼Œä¸æ˜¯åœ¨æµè§ˆå™¨æˆ– Word é‡Œï¼

---

## 1. Node.js å’Œ npm

### 1.1 å®ƒä»¬æ˜¯ä»€ä¹ˆï¼Ÿ

| åç§° | ç±»æ¯” | é€šä¿—è§£é‡Š |
|------|------|---------|
| **Node.js** | å¨æˆ¿ | ä»¥å‰ JS åªèƒ½åœ¨æµè§ˆå™¨ï¼ˆå‰å°ï¼‰è·‘ï¼Œç°åœ¨æœ‰äº† Node.js è¿™ä¸ªå¨æˆ¿ï¼ŒJS ä¹Ÿèƒ½åœ¨åå¨ï¼ˆä½ çš„ç”µè„‘ï¼‰åšæ›´å¤šäº‹ |
| **npm** | åº”ç”¨å•†åº— | ä¸‹è½½åˆ«äººå†™å¥½çš„ä»£ç åŒ…ï¼ˆæ¯”å¦‚åšè½®æ’­å›¾ã€å¤„ç†æ—¥æœŸçš„å·¥å…·ï¼‰ |
| **npx** | è¯•ç”¨APP | ä¸ç”¨ä¸‹è½½å®‰è£…ï¼Œç›´æ¥è¿è¡Œä¸€æ¬¡æŸä¸ªå·¥å…·ï¼ˆç”¨å®Œå°±æ‰”ï¼‰ |

### 1.2 å®‰è£… Node.js

**æ¨èæ–°æ‰‹ï¼šå®˜ç½‘ä¸‹è½½**

1. è®¿é—® [nodejs.org](https://nodejs.org/)
2. ä¸‹è½½ **LTS ç‰ˆæœ¬**ï¼ˆé•¿æœŸæ”¯æŒï¼Œç¨³å®šï¼‰
   - å¦ä¸€ä¸ª Current ç‰ˆæœ¬æ˜¯"å°é²œç‰ˆ"ï¼Œå¯èƒ½æœ‰ bugï¼Œæ–°æ‰‹åˆ«ç¢°
3. åŒå‡»å®‰è£…åŒ…ï¼Œä¸€è·¯ç‚¹"ä¸‹ä¸€æ­¥"

**éªŒè¯å®‰è£…**ï¼š

æ‰“å¼€ç»ˆç«¯ï¼Œè¾“å…¥ï¼š

```bash
node -v
```

å¦‚æœæ˜¾ç¤ºç±»ä¼¼ `v20.11.0`ï¼Œå°±æˆåŠŸäº†ï¼

å¦‚æœæ˜¾ç¤º `command not found` æˆ–æŠ¥é”™ï¼š
- é‡å¯ç»ˆç«¯å†è¯•ä¸€æ¬¡
- è¿˜ä¸è¡Œå°±å¤åˆ¶æŠ¥é”™ä¿¡æ¯é—® AIï¼š"æˆ‘å®‰è£… Node.js åè¾“å…¥ node -v æŠ¥é”™ï¼š[ç²˜è´´æŠ¥é”™ä¿¡æ¯]"

å†è¾“å…¥ï¼š
```bash
npm -v
```

æ˜¾ç¤ºç±»ä¼¼ `10.2.4` å°± OK äº†ã€‚

---

## 2. package.json è¯¦è§£

### 2.1 è¿™ä¸ªæ–‡ä»¶æ˜¯ä»€ä¹ˆï¼Ÿ

**package.json = åšèœçš„èœè°±**

æ¯ä¸ªå‰ç«¯é¡¹ç›®æ ¹ç›®å½•éƒ½æœ‰è¿™ä¸ªæ–‡ä»¶ï¼Œè®°å½•äº†ï¼š
- **é¡¹ç›®åç§°å’Œç‰ˆæœ¬**ï¼ˆè¿™é“èœå«ä»€ä¹ˆï¼‰
- **dependenciesï¼ˆä¾èµ–åŒ…ï¼‰**ï¼š= **é£Ÿæ**ï¼ˆè‚‰ã€èœï¼Œåšå¥½äº†ç«¯ç»™å®¢äººåƒå¿…é¡»æœ‰çš„ï¼‰
- **devDependenciesï¼ˆå¼€å‘ä¾èµ–ï¼‰**ï¼š= **å¨å…·**ï¼ˆé”…ã€é“²å­ï¼Œåšé¥­æ—¶éœ€è¦ï¼Œä½†å®¢äººåƒçš„æ—¶å€™ä¸ç”¨æŠŠé”…ç«¯ä¸Šå»ï¼‰
- **scriptsï¼ˆè„šæœ¬å‘½ä»¤ï¼‰**ï¼š= **çƒ¹é¥ªå¿«æ·é”®**ï¼ˆæŒ‰ä¸€ä¸‹æŒ‰é’®å°±è‡ªåŠ¨ç‚’èœï¼‰

> **Vibe Coding æç¤º**ï¼šçœ‹ä¸æ‡‚ package.json æ²¡å…³ç³»ï¼Œä»¥åæƒ³åŠ ä»€ä¹ˆåŠŸèƒ½ï¼Œç›´æ¥å‘Šè¯‰ AIï¼š"å¸®æˆ‘åœ¨ package.json é‡ŒåŠ ä¸Šè¿™ä¸ªåŒ…"ï¼Œè®© AI å¸®ä½ æ”¹ã€‚

### 2.2 æ–‡ä»¶ç»“æ„è§£è¯»

```json
{
  "name": "my-app",              // é¡¹ç›®åç§°
  "version": "0.1.0",            // ç‰ˆæœ¬å·
  "private": true,               // ç§æœ‰é¡¹ç›®ï¼ˆä¸å‘å¸ƒåˆ° npmï¼‰

  "scripts": {                   // ğŸ‘ˆ å¿«æ·å‘½ä»¤
    "dev": "next dev",           // npm run dev â†’ å¯åŠ¨å¼€å‘æœåŠ¡å™¨
    "build": "next build",       // npm run build â†’ æ‰“åŒ…é¡¹ç›®
    "start": "next start",       // npm run start â†’ å¯åŠ¨ç”Ÿäº§æœåŠ¡å™¨
    "lint": "next lint"          // npm run lint â†’ æ£€æŸ¥ä»£ç 
  },

  "dependencies": {              // ğŸ‘ˆ é£Ÿæï¼ˆä¸Šçº¿å¿…é¡»æœ‰ï¼‰
    "next": "14.0.0",            // Next.js æ¡†æ¶
    "react": "^18.2.0",          // React åº“
    "react-dom": "^18.2.0"       // React DOM åº“
  },

  "devDependencies": {           // ğŸ‘ˆ å¨å…·ï¼ˆåªåœ¨å¼€å‘æ—¶ç”¨ï¼‰
    "typescript": "^5.0.0",      // TypeScriptï¼ˆå†™ä»£ç æ—¶ç”¨ï¼Œæ‰“åŒ…åå°±ä¸éœ€è¦äº†ï¼‰
    "tailwindcss": "^3.3.0",     // Tailwind CSSï¼ˆå†™æ ·å¼æ—¶ç”¨ï¼‰
    "@types/react": "^18.2.0"    // React ç±»å‹å®šä¹‰ï¼ˆå¼€å‘æ—¶æç¤ºç”¨ï¼‰
  }
}
```

### 2.3 ç‰ˆæœ¬å·å«ä¹‰

```
"react": "^18.2.0"
         â”‚ â”‚ â”‚ â”‚
         â”‚ â”‚ â”‚ â””â”€ è¡¥ä¸ç‰ˆæœ¬ï¼ˆä¿® bugï¼‰
         â”‚ â”‚ â””â”€â”€â”€ æ¬¡ç‰ˆæœ¬ï¼ˆåŠ æ–°åŠŸèƒ½ï¼Œä¸å½±å“æ—§ä»£ç ï¼‰
         â”‚ â””â”€â”€â”€â”€â”€ ä¸»ç‰ˆæœ¬ï¼ˆå¤§æ”¹ï¼Œå¯èƒ½ä¸å…¼å®¹æ—§ä»£ç ï¼‰
         â””â”€â”€â”€â”€â”€â”€â”€ ^ è¡¨ç¤ºå…è®¸è‡ªåŠ¨æ›´æ–°æ¬¡ç‰ˆæœ¬å’Œè¡¥ä¸ç‰ˆæœ¬
```

**ä½ åªéœ€è¦è®°ä½**ï¼š`^` = "å¤§çº¦è¿™ä¸ªç‰ˆæœ¬ï¼Œå…è®¸å°æ›´æ–°"

---

## 3. é…ç½®å›½å†…é•œåƒæºï¼ˆè§£å†³ä¸‹è½½æ…¢ï¼‰

### 3.1 ä¸ºä»€ä¹ˆè¦é…ç½®ï¼Ÿ

npm é»˜è®¤ä»å›½å¤–æœåŠ¡å™¨ä¸‹è½½ï¼Œåœ¨å›½å†…å¯èƒ½ï¼š
- ä¸‹è½½å¾ˆæ…¢ï¼ˆå‡  KB/sï¼‰
- ç»å¸¸è¶…æ—¶å¤±è´¥

**è§£å†³åŠæ³•**ï¼šåˆ‡æ¢åˆ°å›½å†…çš„æ·˜å®é•œåƒæœåŠ¡å™¨ã€‚

### 3.2 é…ç½®æ·˜å®é•œåƒï¼ˆæ¨èï¼‰

æ‰“å¼€ç»ˆç«¯ï¼Œè¾“å…¥ï¼š

```bash
npm config set registry https://registry.npmmirror.com
```

**éªŒè¯é…ç½®**ï¼š

```bash
npm config get registry
```

å¦‚æœæ˜¾ç¤º `https://registry.npmmirror.com`ï¼Œå°±æˆåŠŸäº†ï¼

ä»¥åä¸‹è½½åŒ…å°±ä¼šä»å›½å†…æœåŠ¡å™¨ä¸‹è½½ï¼Œé£å¿« ğŸš€

### 3.3 æ¢å¤å®˜æ–¹æºï¼ˆå¦‚æœéœ€è¦ï¼‰

```bash
npm config set registry https://registry.npmjs.org
```

---

## 3. npm å¸¸ç”¨å‘½ä»¤

### 3.1 æ—¥å¸¸ä½¿ç”¨

```bash
# å®‰è£…æ‰€æœ‰ä¾èµ–ï¼ˆæ ¹æ® package.jsonï¼‰
npm install
# æˆ–ç®€å†™
npm i

# è¿è¡Œå¼€å‘æœåŠ¡å™¨
npm run dev

# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run build

# è¿è¡Œç”Ÿäº§ç‰ˆæœ¬
npm run start
```

### 3.2 ç®¡ç†ä¾èµ–

```bash
# å®‰è£…æ–°åŒ…ï¼ˆæ·»åŠ åˆ° dependenciesï¼‰
npm install axios
npm i axios

# å®‰è£…å¼€å‘ä¾èµ–ï¼ˆæ·»åŠ åˆ° devDependenciesï¼‰
npm install -D typescript
npm i -D typescript

# å®‰è£…æŒ‡å®šç‰ˆæœ¬
npm install react@18.2.0

# å¸è½½åŒ…
npm uninstall axios

# æ›´æ–°åŒ…
npm update axios

# æŸ¥çœ‹å·²å®‰è£…çš„åŒ…
npm list
npm list --depth=0  # åªçœ‹é¡¶å±‚
```

### 3.3 å…¶ä»–å¸¸ç”¨å‘½ä»¤

```bash
# æ¸…ç†ç¼“å­˜ï¼ˆé‡åˆ°å¥‡æ€ªé—®é¢˜æ—¶å°è¯•ï¼‰
npm cache clean --force

# æŸ¥çœ‹å…¨å±€å®‰è£…çš„åŒ…
npm list -g --depth=0

# æŸ¥çœ‹åŒ…ä¿¡æ¯
npm info react

# æŸ¥çœ‹è¿‡æ—¶çš„åŒ…
npm outdated
```

---

## 4. é…ç½®å›½å†…é•œåƒæº

### 4.1 ä¸ºä»€ä¹ˆè¦é…ç½®ï¼Ÿ

npm é»˜è®¤ä»å›½å¤–æœåŠ¡å™¨ä¸‹è½½ï¼Œåœ¨å›½å†…å¯èƒ½ï¼š
- ä¸‹è½½å¾ˆæ…¢
- ç»å¸¸è¶…æ—¶å¤±è´¥

### 4.2 é…ç½®æ·˜å®é•œåƒ

**æ–¹æ³•ä¸€ï¼šä¸´æ—¶ä½¿ç”¨**

```bash
npm install --registry=https://registry.npmmirror.com
```

**æ–¹æ³•äºŒï¼šæ°¸ä¹…é…ç½®ï¼ˆæ¨èï¼‰**

```bash
# è®¾ç½®æ·˜å®é•œåƒ
npm config set registry https://registry.npmmirror.com

# éªŒè¯é…ç½®
npm config get registry
# åº”è¯¥æ˜¾ç¤ºï¼šhttps://registry.npmmirror.com
```

**æ–¹æ³•ä¸‰ï¼šä½¿ç”¨ nrm ç®¡ç†å¤šä¸ªæº**

```bash
# å®‰è£… nrm
npm install -g nrm

# æŸ¥çœ‹å¯ç”¨æº
nrm ls

# åˆ‡æ¢åˆ°æ·˜å®æº
nrm use taobao

# åˆ‡æ¢å›å®˜æ–¹æº
nrm use npm
```

### 4.3 æ¢å¤å®˜æ–¹æº

```bash
npm config set registry https://registry.npmjs.org
```

---

## 5. package-lock.json

### 5.1 è¿™ä¸ªæ–‡ä»¶æ˜¯ä»€ä¹ˆï¼Ÿ

**package-lock.json = ä¾èµ–çš„"å¿«ç…§"**

- è®°å½•äº†**æ‰€æœ‰ä¾èµ–çš„ç²¾ç¡®ç‰ˆæœ¬**
- ç¡®ä¿å›¢é˜Ÿæˆå‘˜å®‰è£…å®Œå…¨ç›¸åŒçš„ä¾èµ–
- **ä¸è¦æ‰‹åŠ¨ä¿®æ”¹**ï¼Œnpm è‡ªåŠ¨ç®¡ç†

### 5.2 å¸¸è§é—®é¢˜

**Q: è¦ä¸è¦æäº¤åˆ° Gitï¼Ÿ**
A: **è¦ï¼** è¿™æ ·å…¶ä»–äººå…‹éš†é¡¹ç›®åèƒ½å®‰è£…å®Œå…¨ç›¸åŒçš„ä¾èµ–ã€‚

**Q: package-lock.json å†²çªäº†æ€ä¹ˆåŠï¼Ÿ**
```bash
# åˆ é™¤åé‡æ–°ç”Ÿæˆ
rm package-lock.json
npm install
```

---

## 6. node_modules æ–‡ä»¶å¤¹

### 6.1 è¿™æ˜¯ä»€ä¹ˆï¼Ÿ

**node_modules = ä¾èµ–åŒ…çš„å®é™…æ–‡ä»¶**

è¿è¡Œ `npm install` åï¼Œæ‰€æœ‰ä¾èµ–éƒ½ä¸‹è½½åˆ°è¿™ä¸ªæ–‡ä»¶å¤¹ã€‚

### 6.2 æ³¨æ„äº‹é¡¹

- **éå¸¸å¤§**ï¼ˆå‡ ç™¾ MB å¾ˆæ­£å¸¸ï¼‰
- **ä¸è¦æäº¤åˆ° Git**ï¼ˆå·²åœ¨ .gitignore ä¸­æ’é™¤ï¼‰
- åˆ é™¤åè¿è¡Œ `npm install` å¯ä»¥é‡æ–°ç”Ÿæˆ

```bash
# åˆ é™¤ node_modulesï¼ˆé‡åˆ°é—®é¢˜æ—¶å°è¯•ï¼‰
rm -rf node_modules

# é‡æ–°å®‰è£…
npm install
```

---

## 7. pnpm å’Œ yarnï¼ˆæ›¿ä»£æ–¹æ¡ˆï¼‰

### 7.1 ä¸ºä»€ä¹ˆæœ‰æ›¿ä»£å“ï¼Ÿ

| å·¥å…· | ç‰¹ç‚¹ |
|------|------|
| **npm** | å®˜æ–¹ï¼Œç¨³å®šï¼Œæœ€é€šç”¨ |
| **yarn** | Facebook å‡ºå“ï¼Œå®‰è£…æ›´å¿« |
| **pnpm** | æœ€å¿«ï¼ŒèŠ‚çœç£ç›˜ç©ºé—´ |

### 7.2 pnpm ä½¿ç”¨ï¼ˆæ¨èï¼‰

```bash
# å®‰è£… pnpm
npm install -g pnpm

# ä½¿ç”¨ï¼ˆå‘½ä»¤å‡ ä¹å’Œ npm ä¸€æ ·ï¼‰
pnpm install      # å®‰è£…ä¾èµ–
pnpm add axios    # æ·»åŠ ä¾èµ–
pnpm dev          # è¿è¡Œè„šæœ¬ï¼ˆä¸éœ€è¦ runï¼‰
```

### 7.3 yarn ä½¿ç”¨

```bash
# å®‰è£… yarn
npm install -g yarn

# ä½¿ç”¨
yarn              # å®‰è£…ä¾èµ–
yarn add axios    # æ·»åŠ ä¾èµ–
yarn dev          # è¿è¡Œè„šæœ¬
```

---

## 8. å‘½ä»¤é€ŸæŸ¥è¡¨

### æ—¥å¸¸å¼€å‘

| æ“ä½œ | npm | pnpm | yarn |
|------|-----|------|------|
| å®‰è£…ä¾èµ– | `npm install` | `pnpm install` | `yarn` |
| è¿è¡Œå¼€å‘ | `npm run dev` | `pnpm dev` | `yarn dev` |
| æ„å»º | `npm run build` | `pnpm build` | `yarn build` |
| æ·»åŠ åŒ… | `npm i axios` | `pnpm add axios` | `yarn add axios` |
| åˆ é™¤åŒ… | `npm uninstall axios` | `pnpm remove axios` | `yarn remove axios` |

### åˆ›å»ºé¡¹ç›®

```bash
# Next.js é¡¹ç›®
npx create-next-app@latest my-app

# Vite + React é¡¹ç›®
npm create vite@latest my-app -- --template react

# ä½¿ç”¨ pnpm åˆ›å»º
pnpm create next-app my-app
```

---

## ğŸ“ å°ç»“

| æ¦‚å¿µ | è¯´æ˜ |
|------|------|
| Node.js | JavaScript è¿è¡Œç¯å¢ƒ |
| npm | åŒ…ç®¡ç†å™¨ï¼Œä¸‹è½½å’Œç®¡ç†ä¾èµ– |
| package.json | é¡¹ç›®é…ç½®æ–‡ä»¶ |
| package-lock.json | ä¾èµ–ç‰ˆæœ¬å¿«ç…§ |
| node_modules | ä¾èµ–åŒ…çš„å®é™…æ–‡ä»¶ |

**Vibe Coder è®°ä½è¿™äº›å°±å¤Ÿäº†**ï¼š
1. `npm install` - å®‰è£…ä¾èµ–
2. `npm run dev` - å¯åŠ¨å¼€å‘
3. `npm run build` - æ„å»ºé¡¹ç›®
4. ä¸‹è½½æ…¢å°±é…ç½®æ·˜å®é•œåƒ
5. æŠ¥é”™äº†å¤åˆ¶é”™è¯¯ä¿¡æ¯é—® AI

---

## ğŸ“š ä¸‹ä¸€æ­¥

ğŸ‘‰ [å‰ç«¯æ¦‚è¿°](./å‰ç«¯æ¦‚è¿°.md)

äº†è§£ HTMLã€CSSã€JavaScript ä¸‰ä»¶å¥—çš„åŸºæœ¬æ¦‚å¿µã€‚

è¿”å› [å‰ç«¯å¼€å‘åŸºç¡€](./README.md) æŸ¥çœ‹å®Œæ•´ç›®å½•ã€‚
